function [BestSolution, BestFitness] = FireflyOptimization(FitnessFunction, SwarmSize, MaxIterations)
    % ?????????? ???????? Firefly
    alpha = 0.5;  % ???? ??????????
    beta0 = 1;    % ???? ??? ?????
    gamma = 1;    % ???? ???? ??? ???
    dim = 5;      % ????? ???????? (???? ?? ???? ??????? ????? ???)
    
    % ???????? ????? ?????
    Fireflies = rand(SwarmSize, dim) * 2 - 1;  % ???????? ????? ?? ???? [-1, 1]
    Fitness = zeros(SwarmSize, 1);

    % ???????? ????? ???????? ?????
    for i = 1:SwarmSize
        Fitness(i) = FitnessFunction(Fireflies(i, :));
    end
    
    % ????????? ?????? ????????
    [Fitness, idx] = sort(Fitness);
    Fireflies = Fireflies(idx, :);
    
    % ????? ???????? Firefly
    for iter = 1:MaxIterations
        for i = 1:SwarmSize
            for j = 1:SwarmSize
                if Fitness(j) < Fitness(i)  % ??? ??? ?????? j ???? ????? i ?? ??? j ???? ???
                    r = norm(Fireflies(i, :) - Fireflies(j, :));  % ??????? ??? ?? ??? ??????
                    beta = beta0 * exp(-gamma * r^2);  % ???? ???
                    step = beta * (Fireflies(j, :) - Fireflies(i, :)) + alpha * (rand(1, dim) - 0.5);
                    Fireflies(i, :) = Fireflies(i, :) + step;
                    
                    % ???? ????? ????? ????????
                    Fitness(i) = FitnessFunction(Fireflies(i, :));
                end
            end
        end
        
        % ???? ????? ? ?? ?? ?????
        alpha = alpha * 0.97;

        % ????????? ????
        [Fitness, idx] = sort(Fitness);
        Fireflies = Fireflies(idx, :);
    end
    
    % ????? ?????? ??????
    BestSolution = Fireflies(1, :);
    BestFitness = Fitness(1);
end

